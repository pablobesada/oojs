{"version":3,"sources":["CustomerListReport.es6"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;AACA,IAAI,KAAK,QAAQ,YAAR,EAAsB,YAA/B;;AAEA,IAAI,cAAc;AACd,UAAM,oBADQ;AAEd,cAAU,QAFI;AAGd,WAAO,sBAHO;AAId,cAAU;AAJI,CAAlB;;;AAQA,IAAI,SAAS,GAAG,UAAH,CAAc,WAAd,CAAb;;IAEM,kB;;;;;;;;;;;;;oBAIM,I,EACA,K,EAEA,K,EAEA,O,EAOK,C,EACD,G;;;;;AAfR;AACA,wCAAQ,GAAR,CAAY,4BAAZ;AACI,oC,GAAO,I;AACP,qC,GAAQ,I;;AACZ,oCAAI,WAAW,IAAf,EAAqB,QAAQ,KAAK,KAAb;AACjB,qC,GAAQ,GAAG,QAAH,CAAY,UAAZ,EAAwB,MAAxB,GAAiC,KAAjC,CAAuC,EAAvC,C;;AACZ,oCAAI,KAAK,KAAL,IAAc,IAAlB,EAAwB,MAAM,KAAN,CAAY,KAAK,KAAjB;;uCACJ,MAAM,KAAN,E;;;AAAhB,uC;;AACJ,qCAAK,UAAL;AACA,qCAAK,cAAL;AACA,qCAAK,QAAL,CAAc,QAAd,EAAwB,EAAC,YAAY,YAAb,EAA2B,WAAW,UAAtC,EAAxB;AACA,qCAAK,QAAL,CAAc,QAAd,EAAwB,EAAC,YAAY,YAAb,EAA2B,WAAW,UAAtC,EAAxB;AACA,qCAAK,YAAL;;AAEA,qCAAS,CAAT,GAAa,CAAb,EAAgB,IAAI,QAAQ,MAA5B,EAAoC,GAApC,EAAyC;AACjC,uCADiC,GAC3B,QAAQ,CAAR,CAD2B;;AAErC,yCAAK,QAAL;AACA,yCAAK,QAAL,CAAc,IAAI,IAAlB,EAAwB,EAAC,QAAQ,gBAAT,EAA2B,WAAW,MAAtC,EAAxB;AACA,yCAAK,QAAL,CAAc,IAAI,IAAlB;AACA,yCAAK,MAAL;AACH;AACD,qCAAK,QAAL;;;;;;;;;;;;;;;;;;;kFAGa,K,EAAO,K;oBAChB,I;;;;;AAAA,oC,GAAO,I;;AACX,mCAAG,QAAH,CAAY,UAAZ,EAAwB,KAAxB,CAA8B,QAA9B;AACA,wCAAQ,GAAR,CAAY,KAAZ,EAAmB,KAAnB;AACA,oCAAI,SAAS,QAAb,EAAuB,KAAK,KAAL,GAAa,MAAb;AACvB,oCAAI,SAAS,QAAb,EAAuB,KAAK,KAAL,GAAa,MAAb;AACvB,qCAAK,KAAL;AACA,qCAAK,GAAL,GAAW,IAAX,CAAgB,YAAY;AACxB,yCAAK,MAAL;AACH,iCAFD;;;;;;;;;;;;;;;;;;;EAjCyB,M;;AAwCjC,OAAO,OAAP,GAAiB,mBAAmB,SAAnB,CAA6B,WAA7B,CAAjB","file":"CustomerListReport.js","sourcesContent":["\"use strict\";\nvar cm = require('openorange').classmanager\n\nvar Description = {\n    name: 'CustomerListReport',\n    inherits: 'Report',\n    title: 'Customer List Report',\n    filename: __filename,\n}\n\n//let CustomerListReport = cm.createClass(Description, __filename)\nlet Parent = cm.SuperClass(Description)\n\nclass CustomerListReport extends Parent {\n    async run() {\n        super.run()\n        console.log(\"en CustomerListReport::run\")\n        var self = this;\n        var order = null\n        if ('order' in self) order = self.order;\n        var query = cm.getClass(\"Customer\").select().limit(10);\n        if (self.order != null) query.order(self.order);\n        let results = await query.fetch()\n        self.startTable()\n        self.startHeaderRow()\n        self.addValue(\"Codigo\", {CallMethod: 'ZoomInTest', Parameter: \"LALALAHH\"})\n        self.addValue(\"Nombre\", {CallMethod: 'ZoomInTest', Parameter: \"LALALAHH\"})\n        self.endHeaderRow()\n        //self.row(['Segundo Codigo', 'Segundo Nombre'])\n        for (var i = 0; i < results.length; i++) {\n            var rec = results[i];\n            self.startRow()\n            self.addValue(rec.Code, {Window: \"CustomerWindow\", FieldName: \"Code\"})\n            self.addValue(rec.Name)\n            self.endRow()\n        }\n        self.endTable()\n    }\n\n    async ZoomInTest(param, value) {\n        var self = this;\n        cm.getClass(\"Customer\").bring(\"C00009\")\n        console.log(param, value)\n        if (value == 'Codigo') self.order = 'Code';\n        if (value == 'Nombre') self.order = 'Name'\n        self.clear();\n        self.run().then(function () {\n            self.render();\n        })\n    }\n}\n\n\nmodule.exports = CustomerListReport.initClass(Description)"]}