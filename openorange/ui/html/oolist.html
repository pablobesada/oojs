<html>
<head>
    <link href="../css/materialize-0.97.6.min.css" type='text/css' rel='stylesheet' media='screen,projection' />
    <link rel="stylesheet" href="../css/superlist.css" />
    <link rel="stylesheet" href="../css/templates.css" />
    <style>

        #my {
            #height:99%;
            #width:400px;
            #background:green;
            #flex-grow: 1;

        }

    </style>
</head>
<body>

<div id="modal" class="modal modal-fixed-footer pastewindow" style="z-index: 1003; display: none; opacity: 0; transform: scaleX(0.7); top: 317.636px;">
    <div class="modal-content">
        <div class="oo-pastewindow">
            <div id="my" class="oo-list-container">
            </div>
        </div>
    </div>
</div>



<script type="text/javascript" src="../js/plugins/jquery/jquery-2.1.4.min.js"></script>
<script type='text/javascript' src='../js/plugins/babel/polyfill.min.js'></script>
<script src="/bower_components/bluebird/js/browser/bluebird.min.js"></script>
<script type="text/javascript" src="../js/plugins/superlist/superlist.js"></script>
<script type="text/javascript" src="/bower_components/underscore/underscore-min.js"></script>
<script type='text/javascript' src='../js/plugins/materialize/materialize-0.97.6.min.js'></script>
<script>
    function getItems(start, count) {
        console.log('fetching items: ', start, 'to', start + count - 1, " (" + count + ")")
        var promise = Promise.pending();
        var res = [];
        for (var i = start; i < start + count; i++) {
            let item = document.createElement("div")
            item.innerHTML = 'Item ' + i
            res.push(item);
        }
        return res;
        //setTimeout(function () {promise.resolve(res)}, 2000);
        promise.resolve(res)
        return promise.promise
    }


    $(document).ready(function () {
        let div = $('#my')
        div.superlist({src: getItems, length: 20});
        //$(document.body).append(div)
        $('#modal').openModal()
     })

</script>
</body>

</html>