{"version":3,"sources":["../../node_modules/openorange/lib/reportmanager.es6"],"names":[],"mappings":"AAAA;;AACA,IAAI,IAAI,QAAQ,YAAR,CAAR;AACA,IAAI,KAAK,QAAQ,YAAR,EAAsB,YAA/B;AACA,IAAI,KAAK,GAAG,YAAZ;;AAEA,IAAI,kBAAkB,OAAO,MAAP,CAAc,IAAd,CAAtB;AACA,gBAAgB,OAAhB,GAA0B,EAA1B;AACA,gBAAgB,IAAhB,GAAuB,UAAU,MAAV,EAAkB;AACrC,SAAK,MAAL,GAAc,MAAd;;AAEA,WAAO,IAAP;AACH,CAJD;;AAMA,gBAAgB,QAAhB,GAA2B,SAAS,QAAT,CAAkB,MAAlB,EAA0B;AACjD,YAAQ,GAAR,CAAY,SAAZ,EAAuB,gBAAgB,OAAhB,CAAwB,MAA/C;AACA,SAAK,IAAI,IAAE,CAAX,EAAa,IAAE,gBAAgB,OAAhB,CAAwB,MAAvC,EAA8C,GAA9C,EAAmD;AAC/C,YAAI,IAAI,gBAAgB,OAAhB,CAAwB,CAAxB,CAAR;AACA,gBAAQ,GAAR,CAAY,CAAZ,EAAe,EAAE,MAAjB,EAAyB,MAAzB;AACA,YAAI,EAAE,MAAF,KAAa,MAAjB,EAAyB;AACrB,oBAAQ,GAAR,CAAY,mBAAmB,EAAE,MAAjC;AACA,cAAE,SAAF,EAAa,IAAb,CAAkB,YAAlB,EAAgC,EAAE,MAAlC;AACH;AACJ;AACJ,CAVD;;AAYA,gBAAgB,iBAAhB,GAAoC,SAAS,MAAT,GAAkB;AAClD,QAAI,OAAO,IAAX;;AAEA,QAAI,OAAO,+BAAX;;AAEA,QAAI,IAAI,EAAE,IAAF,CAAR;;;;;;AAMA,SAAK,MAAL,GAAc,uBAAuB,gBAAgB,OAAhB,CAAwB,MAAxB,GAAiC,CAAxD,CAAd;AACA,YAAQ,GAAR,CAAY,eAAZ,EAA6B,KAAK,MAAlC;AACA,oBAAgB,OAAhB,CAAwB,IAAxB,CAA6B,EAAC,QAAQ,KAAK,MAAd,EAAsB,SAAS,CAA/B,EAAkC,QAAQ,KAAK,MAA/C,EAAuD,WAAW,IAAlE,EAA7B;;;;AAIA,SAAK,WAAL,GAAmB,CAAnB;AACA,QAAI,MAAM,EAAE,sCAAsC,KAAK,MAA3C,GAAoD,IAApD,GAA2D,KAAK,MAAL,CAAY,QAAZ,EAA3D,GAAoF,WAAtF,CAAV;AACA,MAAE,mBAAF,EAAuB,MAAvB,CAA8B,GAA9B;;AAEA,MAAE,IAAF,CAAO,IAAP,EAAa,KAAK,MAAlB;;AAEA,MAAE,YAAF,EAAgB,MAAhB,CAAuB,CAAvB;;AAEA,MAAE,SAAF,EAAa,IAAb;AACH,CA1BD;;AA4BA,gBAAgB,MAAhB,GAAyB,SAAS,MAAT,GAAkB;AACvC,QAAI,OAAO,IAAX;AACA,SAAK,WAAL,CAAiB,IAAjB,CAAsB,KAAK,MAAL,CAAY,OAAZ,EAAtB;AACH,CAHD;;AAOA,OAAO,aAAP,GAAuB,eAAvB,C","file":"reportmanager.js","sourcesContent":["\"use strict\";\nvar _ = require(\"underscore\");\nvar oo = require(\"openorange\").classmanager;\nvar cm = oo.classmanager;\n\nvar ReportContainer = Object.create(null);\nReportContainer.reports = [];\nReportContainer.init = function (report) {\n    this.report = report;\n    //this.windowjson = JSON.parse(JSON.stringify(this.report.getDescription().window));   //deep clone of the object because I need to add some metadata to it\n    return this\n}\n\nReportContainer.setFocus = function setFocus(report) {\n    console.log(\"LENGTH:\", ReportContainer.reports.length)\n    for (var i=0;i<ReportContainer.reports.length;i++) {\n        var w = ReportContainer.reports[i];\n        console.log(i, w.report, report)\n        if (w.report === report) {\n            console.log(\"report found: \" + w.tab_id)\n            $('ul.tabs').tabs('select_tab', w.tab_id);\n        }\n    }\n}\n\nReportContainer.appendToWorkspace = function render() {\n    var self = this;\n    //console.log(containerElement)\n    var html = '<div class=\"container\"></div>';\n\n    var w = $(html)\n\n    //w.append('<p>HOLA MUNDO</p>');\n    //w.append(self.createToolBar());\n    //w.append('<table class=\"recordlist\"><thead></thead><tbody></tbody></table>')\n    //self.fillTable(w)\n    this.tab_id = \"tab_reportwindow_\" + (ReportContainer.reports.length + 1);\n    console.log(\"ADING REPORT:\", this.tab_id)\n    ReportContainer.reports.push({report: this.report, element: w, tab_id: this.tab_id, container: self});\n    //w.append(self.createComponent(this.windowjson));\n    //w.append(self.createPasteWindow());\n    //console.log(this.windowjson)\n    this.__element__ = w;\n    var tab = $('<li class=\"tab col s3\"><a href=\"#' + this.tab_id + '\">' + this.report.getTitle() + '</a></li>');\n    $('ul.tabs.workspace').append(tab);\n\n    w.attr('id', this.tab_id);\n\n    $('#workspace').append(w);\n\n    $('ul.tabs').tabs();\n};\n\nReportContainer.render = function render() {\n    var self = this\n    self.__element__.html(this.report.getHTML())\n};\n\n\n\nwindow.ReportManager = ReportContainer; //para hacer global la variable ReportContainer"]}