{"version":3,"sources":["ormTest.es6"],"names":[],"mappings":"AAAA;;;;AACA,IAAI,MAAM,QAAQ,aAAR,CAAV;AACA,IAAI,SAAS,IAAI,OAAJ,CAAY,QAAZ,GAAb;AACA,IAAI,IAAI,QAAQ,YAAR,CAAR;AACA,IAAI,KAAK,QAAQ,YAAR,CAAT;AACA,IAAI,QAAQ,GAAG,KAAf;AACA,IAAI,KAAK,GAAG,YAAZ;AACA,IAAI,SAAS,QAAQ,QAAR,CAAb;AACA,IAAI,QAAQ,QAAQ,OAAR,CAAZ;AACA,IAAI,QAAQ,QAAQ,UAAR,CAAZ;;AAEA,IAAK,YAAY,QAAQ,oBAAR,CAAjB;AACA,IAAI,KAAK,UAAU,EAAnB;IACI,QAAQ,UAAU,KADtB;;AAGA,iDAAO;AAAA,QAEC,CAFD;AAAA;AAAA;AAAA;AAAA;AACH,wBAAI,KAAJ;AADG;AAAA,2BAEW,GAAG,eAAH,EAFX;;AAAA;AAEC,qBAFD;AAAA;AAAA,2BAGG,EAAE,KAAF,CAAQ,wBAAR,CAHH;;AAAA;AAAA;AAAA,2BAIG,EAAE,KAAF,CAAQ,2BAAR,CAJH;;AAAA;AAAA;AAAA,2BAKG,EAAE,KAAF,CAAQ,yBAAR,CALH;;AAAA;AAMH,uBAAG,MAAH;;AANG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAP;;AASA,IAAI,SAAS,GAAG,QAAH,CAAY,QAAZ,CAAb;AACA,SAAS,eAAT,EAA0B,YAAY;AAAA;;AAClC,SAAK,OAAL,CAAa,KAAb;AACA,OAAG,aAAH,4CAAkB;AAAA,YAEV,MAFU,EAMV,GANU,EAOL,CAPK,EAQN,CARM,EAWL,EAXK,EAYN,EAZM;;AAAA;AAAA;AAAA;AAAA;AAEV,8BAFU,GAED,IAAI,UAAU,OAAd,GAAwB,UAAxB,CAAmC,QAAnC,EAA6C,KAA7C,EAFC;;;AAId,+BAAO,GAAP,CAAW,0BAAX;AACA,+BAAO,MAAP,GAAgB,QAAhB,GAA2B,gBAA3B,CAA4C,MAA5C;AALc;AAAA,+BAME,OAAO,kBAAP,CAA0B,6HAA1B,CANF;;AAAA;AAMV,2BANU;AAOL,yBAPK,GAOH,CAPG;;AAAA;AAAA,8BAOD,IAAE,IAAI,YAAJ,CAAiB,MAPlB;AAAA;AAAA;AAAA;;AAQN,yBARM,GAQF,OAAO,QAAP,CAAgB,KAAK,KAAL,CAAW,IAAI,YAAJ,CAAiB,CAAjB,CAAX,CAAhB,CARE;AAAA,uCASV,MATU;AAAA;AAAA,+BASS,GAAG,QAAH,CAAY,EAAE,SAAF,CAAY,eAAZ,CAA4B,IAAxC,EAA8C,OAA9C,CAAsD,EAAC,YAAY,EAAE,UAAf,EAA2B,cAAc,EAAE,YAA3C,EAAtD,CATT;;AAAA;AAAA;;AAAA,qCASH,KATG,kCAS0H,6BAT1H;;AAAA;AAOyB,2BAPzB;AAAA;AAAA;;AAAA;AAWL,0BAXK,GAWH,CAXG;;AAAA;AAAA,8BAWD,KAAE,IAAI,gBAAJ,CAAqB,MAXtB;AAAA;AAAA;AAAA;;AAYN,0BAZM,GAYF,OAAO,QAAP,CAAgB,KAAK,KAAL,CAAW,IAAI,gBAAJ,CAAqB,EAArB,CAAX,CAAhB,CAZE;AAAA,uCAaV,OAAO,GAbG;AAAA;AAAA,+BAaa,GAAG,QAAH,CAAY,GAAE,SAAF,CAAY,eAAZ,CAA4B,IAAxC,EAA8C,OAA9C,CAAsD,EAAC,cAAc,GAAE,YAAjB,EAAtD,CAbb;;AAAA;AAAA;;AAAA,qCAaC,KAbD,kCAaoG,6BAbpG;;AAAA;AAW6B,4BAX7B;AAAA;AAAA;;AAAA;AAed,gCAAQ,GAAR,CAAY,GAAZ;AACA,+BAAO,IAAP;;AAhBc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAlB;AAmBH,CArBD","file":"ormTest.js","sourcesContent":["\"use strict\";\nvar app = require(\"./../../app\")\nvar chance = new require(\"chance\")()\nvar _ = require(\"underscore\")\nvar oo = require(\"openorange\")\nvar Query = oo.query;\nvar cm = oo.classmanager\nvar should = require('should');\nvar async = require('async')\nvar utils = require(\"../utils\")\n\nvar  webdriver = require('selenium-webdriver');\nlet By = webdriver.By,\n    until = webdriver.until;\n\nbefore(async ()=> {\n    app.serve();\n    let q = await oo.getDBConnection()\n    await q.query(\"delete from TestRecord\")\n    await q.query(\"delete from TestRecordRow\")\n    await q.query(\"delete from TestRecord2\")\n    oo.commit();\n});\n\nlet Record = cm.getClass(\"Record\");\ndescribe('Google Search', function () {\n    this.timeout(16000)\n    it('should work', async () => {\n\n        var driver = new webdriver.Builder().forBrowser('chrome').build();\n\n        driver.get('localhost:4000/app/index');\n        driver.manage().timeouts().setScriptTimeout(100000);\n        let res = await driver.executeAsyncScript(\"var callback = arguments[arguments.length - 1]; cm.getClass('ORMBrowserTests').test1().then(function (res) {callback(res)})\")\n        for (let i=0;i<res.should_exist.length;i++) {\n            let r = Record.fromJSON(JSON.parse(res.should_exist[i]))\n            should.exist(await cm.getClass(r.__class__.__description__.name).findOne({internalId: r.internalId, String_Field: r.String_Field}), \"El registro deberia existir\")\n        }\n        for (let i=0;i<res.should_not_exist.length;i++) {\n            let r = Record.fromJSON(JSON.parse(res.should_not_exist[i]))\n            should.not.exist(await cm.getClass(r.__class__.__description__.name).findOne({String_Field: r.String_Field}), \"El registro deberia existir\")\n        }\n        console.log(res)\n        driver.quit();\n\n    });\n});"]}