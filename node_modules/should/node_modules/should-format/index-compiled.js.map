{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var getType = require('should-type');\nvar util = require('./util');\n\nfunction genKeysFunc(f) {\n  return function(value) {\n    var k = f(value);\n    k.sort();\n    return k;\n  };\n}\n\n\nfunction Formatter(opts) {\n  opts = opts || {};\n\n  this.seen = [];\n  this.keys = genKeysFunc(opts.keys === false ? Object.getOwnPropertyNames : Object.keys);\n\n  this.maxLineLength = typeof opts.maxLineLength === 'number' ? opts.maxLineLength : 60;\n  this.propSep = opts.propSep || ',';\n\n  this.isUTCdate = !!opts.isUTCdate;\n}\n\nFormatter.prototype = {\n  constructor: Formatter,\n\n  format: function(value) {\n    var t = getType(value);\n    var name1 = t.type, name2 = t.type;\n    if(t.cls) {\n      name1 += '_' + t.cls;\n      name2 += '_' + t.cls;\n    }\n    if(t.sub) {\n      name2 += '_' + t.sub;\n    }\n    var f = this['_format_' + name2] || this['_format_' + name1] || this['_format_' + t.type] || this.defaultFormat;\n    return f.call(this, value).trim();\n  },\n\n  _formatObject: function(value, opts) {\n    opts = opts || {};\n    var mainKeys = opts.keys || this.keys(value);\n\n    var len = 0;\n\n    var formatPropertyValue = opts.formatPropertyValue || this.formatPropertyValue;\n    var formatPropertyName = opts.formatPropertyName || this.formatPropertyName;\n    var keyValueSep = opts.keyValueSep || ': ';\n    var keyFilter = opts.keyFilter || function() { return true; };\n\n    this.seen.push(value);\n    var keys = [];\n\n    mainKeys.forEach(function(key) {\n      if(!keyFilter(key)) return;\n\n      var fName = formatPropertyName.call(this, key);\n\n      var f = (fName ? fName + keyValueSep : '') + formatPropertyValue.call(this, value, key);\n      len += f.length;\n      keys.push(f);\n    }, this);\n    this.seen.pop();\n\n    (opts.additionalProperties || []).forEach(function(keyValue) {\n      var f = keyValue[0] + keyValueSep + this.format(keyValue[1]);\n      len += f.length;\n      keys.push(f);\n    }, this);\n\n    var prefix = opts.prefix || Formatter.constructorName(value) || '';\n    if(prefix.length > 0) prefix += ' ';\n\n    var lbracket, rbracket;\n    if(Array.isArray(opts.brackets)) {\n      lbracket = opts.brackets && opts.brackets[0];\n      rbracket = opts.brackets && opts.brackets[1];\n    } else {\n      lbracket = '{';\n      rbracket = '}';\n    }\n\n    var rootValue = opts.value || '';\n\n    if(keys.length === 0)\n      return rootValue || (prefix + lbracket + rbracket);\n\n    if(len <= this.maxLineLength) {\n      return prefix + lbracket + ' ' + (rootValue ? rootValue + ' ' : '') + keys.join(this.propSep + ' ') + ' ' + rbracket;\n    } else {\n      return prefix + lbracket + '\\n' + (rootValue ? '  ' + rootValue + '\\n' : '') + keys.map(util.addSpaces).join(this.propSep + '\\n') + '\\n' + rbracket;\n    }\n  },\n\n  formatObject: function(value, prefix, props) {\n    props = props || this.keys(value);\n\n    var len = 0;\n\n    this.seen.push(value);\n    props = props.map(function(prop) {\n      var f = this.formatProperty(value, prop);\n      len += f.length;\n      return f;\n    }, this);\n    this.seen.pop();\n\n    if(props.length === 0) return '{}';\n\n    if(len <= this.maxLineLength) {\n      return '{ ' + (prefix ? prefix + ' ' : '') + props.join(this.propSep + ' ') + ' }';\n    } else {\n      return '{' + '\\n' + (prefix ? '  ' + prefix + '\\n' : '') + props.map(util.addSpaces).join(this.propSep + '\\n') + '\\n' + '}';\n    }\n  },\n\n  formatPropertyName: function(name) {\n    return name.match(/^[a-zA-Z_$][a-zA-Z_$0-9]*$/) ? name : this.format(name);\n  },\n\n  formatProperty: function(value, prop) {\n    var desc = Formatter.getPropertyDescriptor(value, prop);\n\n    var propName = this.formatPropertyName(prop);\n\n    var propValue = desc.get && desc.set ?\n      '[Getter/Setter]' : desc.get ?\n      '[Getter]' : desc.set ?\n      '[Setter]' : this.seen.indexOf(desc.value) >= 0 ?\n      '[Circular]' :\n      this.format(desc.value);\n\n    return propName + ': ' + propValue;\n  },\n\n  formatPropertyValue: function(value, prop) {\n    var desc = Formatter.getPropertyDescriptor(value, prop);\n\n    var propValue = desc.get && desc.set ?\n      '[Getter/Setter]' : desc.get ?\n      '[Getter]' : desc.set ?\n      '[Setter]' : this.seen.indexOf(desc.value) >= 0 ?\n      '[Circular]' :\n      this.format(desc.value);\n\n    return propValue;\n  }\n};\n\nFormatter.add = function add(type, cls, sub, f) {\n  var args = Array.prototype.slice.call(arguments);\n  f = args.pop();\n  Formatter.prototype['_format_' + args.join('_')] = f;\n};\n\nFormatter.formatObjectWithPrefix = function formatObjectWithPrefix(f) {\n  return function(value) {\n    var prefix = f.call(this, value);\n    var props = this.keys(value);\n    if(props.length == 0) return prefix;\n    else return this.formatObject(value, prefix, props);\n  };\n};\n\nvar functionNameRE = /^\\s*function\\s*(\\S*)\\s*\\(/;\n\nFormatter.functionName = function functionName(f) {\n  if(f.name) {\n    return f.name;\n  }\n  var matches = f.toString().match(functionNameRE);\n  if (matches === null) {\n    // `functionNameRE` doesn't match arrow functions.\n    return '';\n  }\n  var name = matches[1];\n  return name;\n};\n\nFormatter.constructorName = function(obj) {\n  while (obj) {\n    var descriptor = Object.getOwnPropertyDescriptor(obj, 'constructor');\n    if (descriptor !== undefined &&\n        typeof descriptor.value === 'function') {\n\n        var name = Formatter.functionName(descriptor.value);\n        if(name !== '') {\n          return name;\n        }\n    }\n\n    obj = Object.getPrototypeOf(obj);\n  }\n};\n\nFormatter.getPropertyDescriptor = function(obj, value) {\n  var desc;\n  try {\n    desc = Object.getOwnPropertyDescriptor(obj, value) || {value: obj[value]};\n  } catch(e) {\n    desc = {value: e};\n  }\n  return desc;\n};\n\nFormatter.generateFunctionForIndexedArray = function generateFunctionForIndexedArray(lengthProp, name, padding) {\n  return function(value) {\n    var max = this.byteArrayMaxLength || 50;\n    var length = value[lengthProp];\n    var formattedValues = [];\n    var len = 0;\n    for(var i = 0; i < max && i < length; i++) {\n      var b = value[i] || 0;\n      var v = util.pad0(b.toString(16), padding);\n      len += v.length;\n      formattedValues.push(v);\n    }\n    var prefix = value.constructor.name || name || '';\n    if(prefix) prefix += ' ';\n\n    if(formattedValues.length === 0)\n      return prefix + '[]';\n\n    if(len <= this.maxLineLength) {\n      return prefix + '[ ' + formattedValues.join(this.propSep + ' ') + ' ' + ']';\n    } else {\n      return prefix + '[\\n' + formattedValues.map(util.addSpaces).join(this.propSep + '\\n') + '\\n' + ']';\n    }\n  };\n};\n\nFormatter.add('undefined', function() { return 'undefined' });\nFormatter.add('null', function() { return 'null' });\nFormatter.add('boolean', function(value) { return value ? 'true': 'false' });\nFormatter.add('symbol', function(value) { return value.toString() });\n\n['number', 'boolean'].forEach(function(name) {\n  Formatter.add('object', name, function(value) {\n    return this._formatObject(value, {\n      additionalProperties: [['[[PrimitiveValue]]', value.valueOf()]]\n    });\n  });\n});\n\nFormatter.add('object', 'string', function(value) {\n  var realValue = value.valueOf();\n\n  return this._formatObject(value, {\n    keyFilter: function(key) {\n      //skip useless indexed properties\n      return !(key.match(/\\d+/) && parseInt(key, 10) < realValue.length);\n    },\n    additionalProperties: [['[[PrimitiveValue]]', realValue]]\n  });\n});\n\nFormatter.add('object', 'regexp', function(value) {\n  return this._formatObject(value, {\n    value: String(value)\n  });\n});\n\nFormatter.add('number', function(value) {\n  if(value === 0 && 1 / value < 0) return '-0';\n  return String(value);\n});\n\nFormatter.add('string', function(value) {\n  return '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n      .replace(/'/g, \"\\\\'\")\n      .replace(/\\\\\"/g, '\"') + '\\'';\n});\n\nFormatter.add('object', function(value) {\n  return this._formatObject(value);\n});\n\nFormatter.add('object', 'arguments', function(value) {\n  return this._formatObject(value, {\n    prefix: 'Arguments',\n    formatPropertyName: function(key) {\n      if(!key.match(/\\d+/)) {\n        return this.formatPropertyName(key);\n      }\n    },\n    brackets: ['[', ']']\n  });\n});\n\nFormatter.add('object', 'array', function(value) {\n  return this._formatObject(value, {\n    formatPropertyName: function(key) {\n      if(!key.match(/\\d+/)) {\n        return this.formatPropertyName(key);\n      }\n    },\n    brackets: ['[', ']']\n  });\n});\n\n\nfunction formatDate(value, isUTC) {\n  var prefix = isUTC ? 'UTC' : '';\n\n  var date = value['get' + prefix + 'FullYear']() +\n    '-' +\n    util.pad0(value['get' + prefix + 'Month']() + 1, 2) +\n    '-' +\n    util.pad0(value['get' + prefix + 'Date'](), 2);\n\n  var time = util.pad0(value['get' + prefix + 'Hours'](), 2) +\n    ':' +\n    util.pad0(value['get' + prefix + 'Minutes'](), 2) +\n    ':' +\n    util.pad0(value['get' + prefix + 'Seconds'](), 2) +\n    '.' +\n    util.pad0(value['get' + prefix + 'Milliseconds'](), 3);\n\n  var to = value.getTimezoneOffset();\n  var absTo = Math.abs(to);\n  var hours = Math.floor(absTo / 60);\n  var minutes = absTo - hours * 60;\n  var tzFormat = (to < 0 ? '+' : '-') + util.pad0(hours, 2) + util.pad0(minutes, 2);\n\n  return date + ' ' + time + (isUTC ? '' : ' ' + tzFormat);\n}\n\nFormatter.add('object', 'date', function(value) {\n  return this._formatObject(value, { value: formatDate(value, this.isUTCdate) });\n});\n\nFormatter.add('function', function(value) {\n  return this._formatObject(value, {\n    additionalProperties: [['name', Formatter.functionName(value)]]\n  });\n});\n\nFormatter.add('object', 'error', function(value) {\n  return this._formatObject(value, {\n    prefix: value.name,\n    additionalProperties: [['message', value.message]]\n  });\n});\n\nFormatter.add('object', 'buffer', Formatter.generateFunctionForIndexedArray('length', 'Buffer', 2));\n\nFormatter.add('object', 'array-buffer', Formatter.generateFunctionForIndexedArray('byteLength', 'ArrayBuffer', 2));\n\nFormatter.add('object', 'typed-array', 'int8', Formatter.generateFunctionForIndexedArray('length', 'Int8Array', 2));\nFormatter.add('object', 'typed-array', 'uint8', Formatter.generateFunctionForIndexedArray('length', 'Uint8Array', 2));\nFormatter.add('object', 'typed-array', 'uint8clamped', Formatter.generateFunctionForIndexedArray('length', 'Uint8ClampedArray', 2));\n\nFormatter.add('object', 'typed-array', 'int16', Formatter.generateFunctionForIndexedArray('length', 'Int16Array', 4));\nFormatter.add('object', 'typed-array', 'uint16', Formatter.generateFunctionForIndexedArray('length', 'Uint16Array', 4));\n\nFormatter.add('object', 'typed-array', 'int32', Formatter.generateFunctionForIndexedArray('length', 'Int32Array', 8));\nFormatter.add('object', 'typed-array', 'uint32', Formatter.generateFunctionForIndexedArray('length', 'Uint32Array', 8));\n\n//TODO add float32 and float64\n\nFormatter.add('object', 'promise', function() {\n  return '[Promise]';//TODO it could be nice to inspect its state and value\n});\n\nFormatter.add('object', 'xhr', function() {\n  return '[XMLHttpRequest]';//TODO it could be nice to inspect its state\n});\n\nFormatter.add('object', 'html-element', function(value) {\n  return value.outerHTML;\n});\n\nFormatter.add('object', 'html-element', '#text', function(value) {\n  return value.nodeValue;\n});\n\nFormatter.add('object', 'html-element', '#document', function(value) {\n  return value.documentElement.outerHTML;\n});\n\nFormatter.add('object', 'host', function() {\n  return '[Host]';\n});\n\nFormatter.add('object', 'set', function(value) {\n  var iter = value.values();\n  var len = 0;\n\n  this.seen.push(value);\n\n  var props = [];\n\n  var next = iter.next();\n  while(!next.done) {\n    var val = next.value;\n    var f = this.format(val);\n    len += f.length;\n    props.push(f);\n\n    next = iter.next();\n  }\n\n  this.seen.pop();\n\n  if(props.length === 0) return 'Set {}';\n\n  if(len <= this.maxLineLength) {\n    return 'Set { ' + props.join(this.propSep + ' ') + ' }';\n  } else {\n    return 'Set {\\n' + props.map(util.addSpaces).join(this.propSep + '\\n') + '\\n' + '}';\n  }\n});\n\nFormatter.add('object', 'map', function(value) {\n  var iter = value.entries();\n  var len = 0;\n\n  this.seen.push(value);\n\n  var props = [];\n\n  var next = iter.next();\n  while(!next.done) {\n    var val = next.value;\n    var fK = this.format(val[0]);\n    var fV = this.format(val[1]);\n\n    var f;\n    if((fK.length + fV.length + 4) <= this.maxLineLength) {\n      f = fK + ' => ' + fV;\n    } else {\n      f = fK + ' =>\\n' + fV;\n    }\n\n    len += fK.length + fV.length + 4;\n    props.push(f);\n\n    next = iter.next();\n  }\n\n  this.seen.pop();\n\n  if(props.length === 0) return 'Map {}';\n\n  if(len <= this.maxLineLength) {\n    return 'Map { ' + props.join(this.propSep + ' ') + ' }';\n  } else {\n    return 'Map {\\n' + props.map(util.addSpaces).join(this.propSep + '\\n') + '\\n' + '}';\n  }\n});\n\nFormatter.prototype.defaultFormat = Formatter.prototype._format_object;\n\nfunction defaultFormat(value, opts) {\n  return new Formatter(opts).format(value);\n}\n\ndefaultFormat.Formatter = Formatter;\nmodule.exports = defaultFormat;\n"]}