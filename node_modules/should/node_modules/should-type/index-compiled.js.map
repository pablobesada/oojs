{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var toString = Object.prototype.toString;\r\n\r\nvar types = require('./types');\r\n\r\n/**\r\n * Simple data function to store type information\r\n * @param {string} type Usually what is returned from typeof\r\n * @param {string} cls  Sanitized @Class via Object.prototype.toString\r\n * @param {string} sub  If type and cls the same, and need to specify somehow\r\n * @private\r\n * @example\r\n *\r\n * //for null\r\n * new Type('null');\r\n *\r\n * //for Date\r\n * new Type('object', 'date');\r\n *\r\n * //for Uint8Array\r\n *\r\n * new Type('object', 'typed-array', 'uint8');\r\n */\r\nfunction Type(type, cls, sub) {\r\n  this.type = type;\r\n  this.cls = cls;\r\n  this.sub = sub;\r\n}\r\n\r\n/**\r\n * Function to store type checks\r\n * @private\r\n */\r\nfunction TypeChecker() {\r\n  this.checks = [];\r\n}\r\n\r\nTypeChecker.prototype = {\r\n  add: function(func) {\r\n    this.checks.push(func);\r\n    return this;\r\n  },\r\n\r\n  addTypeOf: function(type, res) {\r\n    return this.add(function(obj, tpeOf) {\r\n      if(tpeOf === type) {\r\n        return new Type(res);\r\n      }\r\n    });\r\n  },\r\n\r\n  addClass: function(cls, res, sub) {\r\n    return this.add(function(obj, tpeOf, objCls) {\r\n      if(objCls === cls) {\r\n        return new Type(types.OBJECT, res, sub);\r\n      }\r\n    });\r\n  },\r\n\r\n  getType: function(obj) {\r\n    var typeOf = typeof obj;\r\n    var cls = toString.call(obj);\r\n\r\n    for(var i = 0, l = this.checks.length; i < l; i++) {\r\n      var res = this.checks[i].call(this, obj, typeOf, cls);\r\n      if(typeof res !== 'undefined') return res;\r\n    }\r\n\r\n  }\r\n};\r\n\r\nvar main = new TypeChecker();\r\n\r\n//TODO add iterators\r\n\r\nmain\r\n  .addTypeOf(types.NUMBER, types.NUMBER)\r\n  .addTypeOf(types.UNDEFINED, types.UNDEFINED)\r\n  .addTypeOf(types.STRING, types.STRING)\r\n  .addTypeOf(types.BOOLEAN, types.BOOLEAN)\r\n  .addTypeOf(types.FUNCTION, types.FUNCTION)\r\n  .addTypeOf(types.SYMBOL, types.SYMBOL)\r\n  .add(function(obj, tpeOf) {\r\n    if(obj === null) return new Type(types.NULL);\r\n  })\r\n  .addClass('[object String]', types.STRING)\r\n  .addClass('[object Boolean]', types.BOOLEAN)\r\n  .addClass('[object Number]', types.NUMBER)\r\n  .addClass('[object Array]', types.ARRAY)\r\n  .addClass('[object RegExp]', types.REGEXP)\r\n  .addClass('[object Error]', types.ERROR)\r\n  .addClass('[object Date]', types.DATE)\r\n  .addClass('[object Arguments]', types.ARGUMENTS)\r\n  .addClass('[object Math]')\r\n  .addClass('[object JSON]')\r\n  .addClass('[object ArrayBuffer]', types.ARRAY_BUFFER)\r\n  .addClass('[object Int8Array]', types.TYPED_ARRAY, 'int8')\r\n  .addClass('[object Uint8Array]', types.TYPED_ARRAY, 'uint8')\r\n  .addClass('[object Uint8ClampedArray]', types.TYPED_ARRAY, 'uint8clamped')\r\n  .addClass('[object Int16Array]', types.TYPED_ARRAY, 'int16')\r\n  .addClass('[object Uint16Array]', types.TYPED_ARRAY, 'uint16')\r\n  .addClass('[object Int32Array]', types.TYPED_ARRAY, 'int32')\r\n  .addClass('[object Uint32Array]', types.TYPED_ARRAY, 'uint32')\r\n  .addClass('[object Float32Array]', types.TYPED_ARRAY, 'float32')\r\n  .addClass('[object Float64Array]', types.TYPED_ARRAY, 'float64')\r\n  .addClass('[object DataView]', types.DATA_VIEW)\r\n  .addClass('[object Map]', types.MAP)\r\n  .addClass('[object WeakMap]', types.WEAK_MAP)\r\n  .addClass('[object Set]', types.SET)\r\n  .addClass('[object WeakSet]', types.WEAK_SET)\r\n  .addClass('[object Promise]', types.PROMISE)\r\n  .addClass('[object Blob]', types.BLOB)\r\n  .addClass('[object File]', types.FILE)\r\n  .addClass('[object FileList]', types.FILE_LIST)\r\n  .addClass('[object XMLHttpRequest]', types.XHR)\r\n  .add(function(obj) {\r\n    if((typeof Promise === types.FUNCTION && obj instanceof Promise) ||\r\n        (typeof obj.then === types.FUNCTION)) {\r\n          return new Type(types.OBJECT, types.PROMISE);\r\n        }\r\n  })\r\n  .add(function(obj) {\r\n    if(typeof Buffer !== 'undefined' && obj instanceof Buffer) {\r\n      return new Type(types.OBJECT, types.BUFFER);\r\n    }\r\n  })\r\n  .add(function(obj) {\r\n    if(typeof Node !== 'undefined' && obj instanceof Node) {\r\n      return new Type(types.OBJECT, types.HTML_ELEMENT, obj.nodeName);\r\n    }\r\n  })\r\n  .add(function(obj) {\r\n    // probably at the begginging should be enough these checks\r\n    if(obj.Boolean === Boolean && obj.Number === Number && obj.String === String && obj.Date === Date) {\r\n      return new Type(types.OBJECT, types.HOST);\r\n    }\r\n  })\r\n  .add(function() {\r\n    return new Type(types.OBJECT);\r\n  });\r\n\r\n/**\r\n * Get type information of anything\r\n *\r\n * @param  {any} obj Anything that could require type information\r\n * @return {Type}    type info\r\n */\r\nfunction getGlobalType(obj) {\r\n  return main.getType(obj);\r\n}\r\n\r\ngetGlobalType.checker = main;\r\ngetGlobalType.TypeChecker = TypeChecker;\r\ngetGlobalType.Type = Type;\r\n\r\nObject.keys(types).forEach(function(typeName) {\r\n  getGlobalType[typeName] = types[typeName];\r\n});\r\n\r\nmodule.exports = getGlobalType;\r\n"]}