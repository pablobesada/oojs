{"version":3,"sources":["ClientAuthenticationPacket.js"],"names":[],"mappings":"AAAA,OAAO,OAAP,GAAiB,0BAAjB;AACA,SAAS,0BAAT,CAAoC,OAApC,EAA6C;AAC3C,YAAU,WAAW,EAArB;;AAEA,OAAK,WAAL,GAAqB,QAAQ,WAA7B;AACA,OAAK,aAAL,GAAqB,QAAQ,aAA7B;AACA,OAAK,aAAL,GAAqB,QAAQ,aAA7B;AACA,OAAK,MAAL,GAAqB,SAArB;AACA,OAAK,IAAL,GAAqB,QAAQ,IAA7B;AACA,OAAK,YAAL,GAAqB,QAAQ,YAA7B;AACA,OAAK,QAAL,GAAqB,QAAQ,QAA7B;AACA,OAAK,UAAL,GAAqB,QAAQ,UAA7B;AACD;;AAED,2BAA2B,SAA3B,CAAqC,KAArC,GAA6C,UAAS,MAAT,EAAiB;AAC5D,MAAI,KAAK,UAAT,EAAqB;AACnB,SAAK,WAAL,GAAqB,OAAO,mBAAP,CAA2B,CAA3B,CAArB;AACA,SAAK,aAAL,GAAqB,OAAO,mBAAP,CAA2B,CAA3B,CAArB;AACA,SAAK,aAAL,GAAqB,OAAO,mBAAP,CAA2B,CAA3B,CAArB;AACA,SAAK,MAAL,GAAqB,OAAO,WAAP,CAAmB,EAAnB,CAArB;AACA,SAAK,IAAL,GAAqB,OAAO,yBAAP,EAArB;AACA,SAAK,YAAL,GAAqB,OAAO,sBAAP,EAArB;AACA,SAAK,QAAL,GAAqB,OAAO,yBAAP,EAArB;AACD,GARD,MAQO;AACL,SAAK,WAAL,GAAqB,OAAO,mBAAP,CAA2B,CAA3B,CAArB;AACA,SAAK,aAAL,GAAqB,OAAO,mBAAP,CAA2B,CAA3B,CAArB;AACA,SAAK,IAAL,GAAqB,OAAO,yBAAP,EAArB;AACA,SAAK,YAAL,GAAqB,OAAO,WAAP,CAAmB,CAAnB,CAArB;AACA,SAAK,QAAL,GAAqB,OAAO,sBAAP,EAArB;AACD;AACF,CAhBD;;AAkBA,2BAA2B,SAA3B,CAAqC,KAArC,GAA6C,UAAS,MAAT,EAAiB;AAC5D,MAAI,KAAK,UAAT,EAAqB;AACnB,WAAO,mBAAP,CAA2B,CAA3B,EAA8B,KAAK,WAAnC;AACA,WAAO,mBAAP,CAA2B,CAA3B,EAA8B,KAAK,aAAnC;AACA,WAAO,mBAAP,CAA2B,CAA3B,EAA8B,KAAK,aAAnC;AACA,WAAO,WAAP,CAAmB,EAAnB;AACA,WAAO,yBAAP,CAAiC,KAAK,IAAtC;AACA,WAAO,sBAAP,CAA8B,KAAK,YAAnC;AACA,WAAO,yBAAP,CAAiC,KAAK,QAAtC;AACD,GARD,MAQO;AACL,WAAO,mBAAP,CAA2B,CAA3B,EAA8B,KAAK,WAAnC;AACA,WAAO,mBAAP,CAA2B,CAA3B,EAA8B,KAAK,aAAnC;AACA,WAAO,yBAAP,CAAiC,KAAK,IAAtC;AACA,WAAO,WAAP,CAAmB,KAAK,YAAxB;AACA,QAAI,KAAK,QAAL,IAAiB,KAAK,QAAL,CAAc,MAAnC,EAA2C;AACzC,aAAO,WAAP,CAAmB,CAAnB;AACA,aAAO,WAAP,CAAmB,IAAI,MAAJ,CAAW,KAAK,QAAhB,CAAnB;AACD;AACF;AACF,CAnBD","file":"ClientAuthenticationPacket-compiled.js","sourcesContent":["module.exports = ClientAuthenticationPacket;\nfunction ClientAuthenticationPacket(options) {\n  options = options || {};\n\n  this.clientFlags   = options.clientFlags;\n  this.maxPacketSize = options.maxPacketSize;\n  this.charsetNumber = options.charsetNumber;\n  this.filler        = undefined;\n  this.user          = options.user;\n  this.scrambleBuff  = options.scrambleBuff;\n  this.database      = options.database;\n  this.protocol41    = options.protocol41;\n}\n\nClientAuthenticationPacket.prototype.parse = function(parser) {\n  if (this.protocol41) {\n    this.clientFlags   = parser.parseUnsignedNumber(4);\n    this.maxPacketSize = parser.parseUnsignedNumber(4);\n    this.charsetNumber = parser.parseUnsignedNumber(1);\n    this.filler        = parser.parseFiller(23);\n    this.user          = parser.parseNullTerminatedString();\n    this.scrambleBuff  = parser.parseLengthCodedBuffer();\n    this.database      = parser.parseNullTerminatedString();\n  } else {\n    this.clientFlags   = parser.parseUnsignedNumber(2);\n    this.maxPacketSize = parser.parseUnsignedNumber(3);\n    this.user          = parser.parseNullTerminatedString();\n    this.scrambleBuff  = parser.parseBuffer(8);\n    this.database      = parser.parseLengthCodedBuffer();\n  }\n};\n\nClientAuthenticationPacket.prototype.write = function(writer) {\n  if (this.protocol41) {\n    writer.writeUnsignedNumber(4, this.clientFlags);\n    writer.writeUnsignedNumber(4, this.maxPacketSize);\n    writer.writeUnsignedNumber(1, this.charsetNumber);\n    writer.writeFiller(23);\n    writer.writeNullTerminatedString(this.user);\n    writer.writeLengthCodedBuffer(this.scrambleBuff);\n    writer.writeNullTerminatedString(this.database);\n  } else {\n    writer.writeUnsignedNumber(2, this.clientFlags);\n    writer.writeUnsignedNumber(3, this.maxPacketSize);\n    writer.writeNullTerminatedString(this.user);\n    writer.writeBuffer(this.scrambleBuff);\n    if (this.database && this.database.length) {\n      writer.writeFiller(1);\n      writer.writeBuffer(new Buffer(this.database));\n    }\n  }\n};\n"]}