{"version":3,"sources":["progress.js"],"names":[],"mappings":";;;;AAIA,OAAO,OAAP,GAAiB,QAAjB;;;;;AAKA,SAAS,QAAT,GAAoB;AAClB,OAAK,OAAL,GAAe,CAAf;AACA,OAAK,IAAL,CAAU,CAAV;AACA,OAAK,QAAL,CAAc,EAAd;AACA,OAAK,IAAL,CAAU,8BAAV;AACD;;;;;;;;;AASD,SAAS,SAAT,CAAmB,IAAnB,GAA0B,UAAS,IAAT,EAAe;AACvC,OAAK,KAAL,GAAa,IAAb;AACA,SAAO,IAAP;AACD,CAHD;;;;;;;;;AAYA,SAAS,SAAT,CAAmB,IAAnB,GAA0B,UAAS,IAAT,EAAe;AACvC,OAAK,KAAL,GAAa,IAAb;AACA,SAAO,IAAP;AACD,CAHD;;;;;;;;;AAYA,SAAS,SAAT,CAAmB,QAAnB,GAA8B,UAAS,IAAT,EAAe;AAC3C,OAAK,SAAL,GAAiB,IAAjB;AACA,SAAO,IAAP;AACD,CAHD;;;;;;;;AAWA,SAAS,SAAT,CAAmB,IAAnB,GAA0B,UAAS,MAAT,EAAiB;AACzC,OAAK,KAAL,GAAa,MAAb;AACA,SAAO,IAAP;AACD,CAHD;;;;;;;;AAWA,SAAS,SAAT,CAAmB,MAAnB,GAA4B,UAAS,CAAT,EAAY;AACtC,OAAK,OAAL,GAAe,CAAf;AACA,SAAO,IAAP;AACD,CAHD;;;;;;;;AAWA,SAAS,SAAT,CAAmB,IAAnB,GAA0B,UAAS,GAAT,EAAc;AACtC,MAAI;AACF,QAAI,UAAU,KAAK,GAAL,CAAS,KAAK,OAAd,EAAuB,GAAvB,CAAd;AACA,QAAI,OAAO,KAAK,KAAhB;AACA,QAAI,OAAO,OAAO,CAAlB;AACA,QAAI,IAAI,IAAR;AACA,QAAI,IAAI,IAAR;AACA,QAAI,MAAM,OAAO,CAAjB;AACA,QAAI,WAAW,KAAK,SAApB;;AAEA,QAAI,IAAJ,GAAW,WAAW,KAAX,GAAmB,KAAK,KAAnC;;AAEA,QAAI,QAAQ,KAAK,EAAL,GAAU,CAAV,IAAe,UAAU,GAAzB,CAAZ;AACA,QAAI,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoB,IAApB,EAA0B,IAA1B;;;AAGA,QAAI,WAAJ,GAAkB,SAAlB;AACA,QAAI,SAAJ;AACA,QAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,EAAc,GAAd,EAAmB,CAAnB,EAAsB,KAAtB,EAA6B,KAA7B;AACA,QAAI,MAAJ;;;AAGA,QAAI,WAAJ,GAAkB,MAAlB;AACA,QAAI,SAAJ;AACA,QAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,EAAc,MAAM,CAApB,EAAuB,CAAvB,EAA0B,KAA1B,EAAiC,IAAjC;AACA,QAAI,MAAJ;;;AAGA,QAAI,OAAO,KAAK,KAAL,IAAc,CAAC,UAAU,CAAX,IAAgB,GAAzC;AACA,QAAI,IAAI,IAAI,WAAJ,CAAgB,IAAhB,EAAsB,KAA9B;;AAEA,QAAI,QAAJ,CAAa,IAAb,EAAmB,IAAI,IAAI,CAAR,GAAY,CAA/B,EAAkC,IAAI,WAAW,CAAf,GAAmB,CAArD;AACD,GA/BD,CA+BE,OAAO,GAAP,EAAY;;AAEb;AACD,SAAO,IAAP;AACD,CApCD","file":"progress-compiled.js","sourcesContent":["/**\n * Expose `Progress`.\n */\n\nmodule.exports = Progress;\n\n/**\n * Initialize a new `Progress` indicator.\n */\nfunction Progress() {\n  this.percent = 0;\n  this.size(0);\n  this.fontSize(11);\n  this.font('helvetica, arial, sans-serif');\n}\n\n/**\n * Set progress size to `size`.\n *\n * @api public\n * @param {number} size\n * @return {Progress} Progress instance.\n */\nProgress.prototype.size = function(size) {\n  this._size = size;\n  return this;\n};\n\n/**\n * Set text to `text`.\n *\n * @api public\n * @param {string} text\n * @return {Progress} Progress instance.\n */\nProgress.prototype.text = function(text) {\n  this._text = text;\n  return this;\n};\n\n/**\n * Set font size to `size`.\n *\n * @api public\n * @param {number} size\n * @return {Progress} Progress instance.\n */\nProgress.prototype.fontSize = function(size) {\n  this._fontSize = size;\n  return this;\n};\n\n/**\n * Set font to `family`.\n *\n * @param {string} family\n * @return {Progress} Progress instance.\n */\nProgress.prototype.font = function(family) {\n  this._font = family;\n  return this;\n};\n\n/**\n * Update percentage to `n`.\n *\n * @param {number} n\n * @return {Progress} Progress instance.\n */\nProgress.prototype.update = function(n) {\n  this.percent = n;\n  return this;\n};\n\n/**\n * Draw on `ctx`.\n *\n * @param {CanvasRenderingContext2d} ctx\n * @return {Progress} Progress instance.\n */\nProgress.prototype.draw = function(ctx) {\n  try {\n    var percent = Math.min(this.percent, 100);\n    var size = this._size;\n    var half = size / 2;\n    var x = half;\n    var y = half;\n    var rad = half - 1;\n    var fontSize = this._fontSize;\n\n    ctx.font = fontSize + 'px ' + this._font;\n\n    var angle = Math.PI * 2 * (percent / 100);\n    ctx.clearRect(0, 0, size, size);\n\n    // outer circle\n    ctx.strokeStyle = '#9f9f9f';\n    ctx.beginPath();\n    ctx.arc(x, y, rad, 0, angle, false);\n    ctx.stroke();\n\n    // inner circle\n    ctx.strokeStyle = '#eee';\n    ctx.beginPath();\n    ctx.arc(x, y, rad - 1, 0, angle, true);\n    ctx.stroke();\n\n    // text\n    var text = this._text || (percent | 0) + '%';\n    var w = ctx.measureText(text).width;\n\n    ctx.fillText(text, x - w / 2 + 1, y + fontSize / 2 - 1);\n  } catch (err) {\n    // don't fail if we can't render progress\n  }\n  return this;\n};\n"]}