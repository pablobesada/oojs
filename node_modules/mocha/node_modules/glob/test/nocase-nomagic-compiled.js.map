{"version":3,"sources":["nocase-nomagic.js"],"names":[],"mappings":"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","file":"nocase-nomagic-compiled.js","sourcesContent":["var fs = require('graceful-fs');\nvar test = require('tap').test;\nvar glob = require('../');\n\ntest('mock fs', function(t) {\n  var stat = fs.stat\n  var statSync = fs.statSync\n  var readdir = fs.readdir\n  var readdirSync = fs.readdirSync\n\n  function fakeStat(path) {\n    var ret\n    switch (path.toLowerCase()) {\n      case '/tmp': case '/tmp/':\n        ret = { isDirectory: function() { return true } }\n        break\n      case '/tmp/a':\n        ret = { isDirectory: function() { return false } }\n        break\n    }\n    return ret\n  }\n\n  fs.stat = function(path, cb) {\n    var f = fakeStat(path);\n    if (f) {\n      process.nextTick(function() {\n        cb(null, f)\n      })\n    } else {\n      stat.call(fs, path, cb)\n    }\n  }\n\n  fs.statSync = function(path) {\n    return fakeStat(path) || statSync.call(fs, path)\n  }\n\n  function fakeReaddir(path) {\n    var ret\n    switch (path.toLowerCase()) {\n      case '/tmp': case '/tmp/':\n        ret = [ 'a', 'A' ]\n        break\n      case '/':\n        ret = ['tmp', 'tMp', 'tMP', 'TMP']\n    }\n    return ret\n  }\n\n  fs.readdir = function(path, cb) {\n    var f = fakeReaddir(path)\n    if (f)\n      process.nextTick(function() {\n        cb(null, f)\n      })\n    else\n      readdir.call(fs, path, cb)\n  }\n\n  fs.readdirSync = function(path) {\n    return fakeReaddir(path) || readdirSync.call(fs, path)\n  }\n\n  t.pass('mocked')\n  t.end()\n})\n\ntest('nocase, nomagic', function(t) {\n  var n = 2\n  var want = [ '/TMP/A',\n               '/TMP/a',\n               '/tMP/A',\n               '/tMP/a',\n               '/tMp/A',\n               '/tMp/a',\n               '/tmp/A',\n               '/tmp/a' ]\n  glob('/tmp/a', { nocase: true }, function(er, res) {\n    if (er)\n      throw er\n    t.same(res.sort(), want)\n    if (--n === 0) t.end()\n  })\n  glob('/tmp/A', { nocase: true }, function(er, res) {\n    if (er)\n      throw er\n    t.same(res.sort(), want)\n    if (--n === 0) t.end()\n  })\n})\n\ntest('nocase, with some magic', function(t) {\n  t.plan(2)\n  var want = [ '/TMP/A',\n               '/TMP/a',\n               '/tMP/A',\n               '/tMP/a',\n               '/tMp/A',\n               '/tMp/a',\n               '/tmp/A',\n               '/tmp/a' ]\n  glob('/tmp/*', { nocase: true }, function(er, res) {\n    if (er)\n      throw er\n    t.same(res.sort(), want)\n  })\n  glob('/tmp/*', { nocase: true }, function(er, res) {\n    if (er)\n      throw er\n    t.same(res.sort(), want)\n  })\n})\n"]}